EESchema Schematic File Version 4
LIBS:heart-cache
EELAYER 26 0
EELAYER END
$Descr A 11000 8500
encoding utf-8
Sheet 1 1
Title "Heart-PCB"
Date "2/03/2019"
Rev "B"
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Device:Battery_Cell BT1
U 1 1 5C4514A9
P 8800 2250
F 0 "BT1" H 8918 2346 50  0000 L CNN
F 1 "Battery_Cell" H 8918 2255 50  0000 L CNN
F 2 "my_footprints:SMD 12MM Coin Battery Retainer" V 8800 2310 50  0001 C CNN
F 3 "~" V 8800 2310 50  0001 C CNN
	1    8800 2250
	1    0    0    -1  
$EndComp
$Comp
L Device:Crystal X1
U 1 1 5C481433
P 3050 3300
F 0 "X1" V 3096 3169 50  0000 R CNN
F 1 "16MHz" V 3005 3169 50  0000 R CNN
F 2 "Crystal:Crystal_SMD_HC49-SD" H 3050 3300 50  0001 C CNN
F 3 "~" H 3050 3300 50  0001 C CNN
	1    3050 3300
	0    -1   -1   0   
$EndComp
$Comp
L Device:C_Small C1
U 1 1 5C481558
P 2600 2950
F 0 "C1" V 2650 2850 50  0000 C CNN
F 1 "20pF" V 2550 2800 50  0000 C CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 2600 2950 50  0001 C CNN
F 3 "~" H 2600 2950 50  0001 C CNN
	1    2600 2950
	0    -1   -1   0   
$EndComp
$Comp
L Device:C_Small C2
U 1 1 5C4816CF
P 2600 3550
F 0 "C2" V 2650 3450 50  0000 C CNN
F 1 "20pF" V 2550 3400 50  0000 C CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 2600 3550 50  0001 C CNN
F 3 "~" H 2600 3550 50  0001 C CNN
	1    2600 3550
	0    -1   -1   0   
$EndComp
$Comp
L power:Earth #PWR0101
U 1 1 5C4817B2
P 2350 2950
F 0 "#PWR0101" H 2350 2700 50  0001 C CNN
F 1 "Earth" H 2350 2800 50  0001 C CNN
F 2 "" H 2350 2950 50  0001 C CNN
F 3 "~" H 2350 2950 50  0001 C CNN
	1    2350 2950
	0    1    1    0   
$EndComp
Wire Wire Line
	2350 2950 2500 2950
$Comp
L power:Earth #PWR0102
U 1 1 5C48182B
P 2350 3550
F 0 "#PWR0102" H 2350 3300 50  0001 C CNN
F 1 "Earth" H 2350 3400 50  0001 C CNN
F 2 "" H 2350 3550 50  0001 C CNN
F 3 "~" H 2350 3550 50  0001 C CNN
	1    2350 3550
	0    1    1    0   
$EndComp
Wire Wire Line
	2350 3550 2500 3550
Wire Wire Line
	2700 3550 3050 3550
Wire Wire Line
	3050 3550 3050 3450
Wire Wire Line
	2700 2950 3050 2950
Wire Wire Line
	3050 2950 3050 3150
$Comp
L Device:R_US R2
U 1 1 5C48193E
P 3600 3550
F 0 "R2" V 3650 3700 50  0000 C CNN
F 1 "60" V 3650 3400 50  0000 C CNN
F 2 "Resistor_SMD:R_0805_2012Metric" V 3640 3540 50  0001 C CNN
F 3 "~" H 3600 3550 50  0001 C CNN
	1    3600 3550
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3050 3550 3450 3550
Connection ~ 3050 3550
Wire Wire Line
	3750 3550 3950 3550
Wire Wire Line
	4500 2950 3050 2950
Connection ~ 3050 2950
Wire Wire Line
	3950 3050 4500 3050
Wire Wire Line
	3950 3050 3950 3550
$Comp
L power:VDD #PWR0103
U 1 1 5C4820E0
P 3500 1550
F 0 "#PWR0103" H 3500 1400 50  0001 C CNN
F 1 "VDD" H 3517 1723 50  0000 C CNN
F 2 "" H 3500 1550 50  0001 C CNN
F 3 "" H 3500 1550 50  0001 C CNN
	1    3500 1550
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C3
U 1 1 5C482170
P 3500 2450
F 0 "C3" H 3650 2450 50  0000 C CNN
F 1 "10nF" H 3700 2350 50  0000 C CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 3500 2450 50  0001 C CNN
F 3 "~" H 3500 2450 50  0001 C CNN
	1    3500 2450
	1    0    0    -1  
$EndComp
$Comp
L power:Earth #PWR0104
U 1 1 5C482685
P 3500 2700
F 0 "#PWR0104" H 3500 2450 50  0001 C CNN
F 1 "Earth" H 3500 2550 50  0001 C CNN
F 2 "" H 3500 2700 50  0001 C CNN
F 3 "~" H 3500 2700 50  0001 C CNN
	1    3500 2700
	1    0    0    -1  
$EndComp
Wire Wire Line
	3500 2050 3500 2200
Wire Wire Line
	3500 2550 3500 2700
Wire Wire Line
	3500 2200 4000 2200
Wire Wire Line
	4000 2200 4000 2850
Wire Wire Line
	4000 2850 4500 2850
Connection ~ 3500 2200
Wire Wire Line
	3500 2200 3500 2350
$Comp
L Device:LED D2
U 1 1 5C4830DC
P 7600 2800
F 0 "D2" V 7650 2650 50  0000 C CNN
F 1 "Green" V 7550 2600 50  0000 C CNN
F 2 "LED_SMD:LED_0805_2012Metric" H 7600 2800 50  0001 C CNN
F 3 "~" H 7600 2800 50  0001 C CNN
	1    7600 2800
	0    -1   -1   0   
$EndComp
$Comp
L Device:R_US R5
U 1 1 5C4836B4
P 7600 3200
F 0 "R5" H 7450 3100 50  0000 C CNN
F 1 "510" H 7450 3200 50  0000 C CNN
F 2 "Resistor_SMD:R_0805_2012Metric" V 7640 3190 50  0001 C CNN
F 3 "~" H 7600 3200 50  0001 C CNN
	1    7600 3200
	-1   0    0    1   
$EndComp
Wire Wire Line
	7600 2950 7600 3050
$Comp
L power:VDD #PWR0105
U 1 1 5C484365
P 7600 2500
F 0 "#PWR0105" H 7600 2350 50  0001 C CNN
F 1 "VDD" H 7617 2673 50  0000 C CNN
F 2 "" H 7600 2500 50  0001 C CNN
F 3 "" H 7600 2500 50  0001 C CNN
	1    7600 2500
	1    0    0    -1  
$EndComp
Wire Wire Line
	7600 2500 7600 2650
Wire Wire Line
	8800 1800 8800 2000
$Comp
L power:Earth #PWR0108
U 1 1 5C487D97
P 8800 2650
F 0 "#PWR0108" H 8800 2400 50  0001 C CNN
F 1 "Earth" H 8800 2500 50  0001 C CNN
F 2 "" H 8800 2650 50  0001 C CNN
F 3 "~" H 8800 2650 50  0001 C CNN
	1    8800 2650
	1    0    0    -1  
$EndComp
Wire Wire Line
	8800 2350 8800 2450
$Comp
L my_library:STM8S00SKST6C U1
U 1 1 5C48B0DA
P 4600 3900
F 0 "U1" H 6000 5350 30  0000 L CNN
F 1 "STM8S00SKST6C" H 6000 5300 30  0000 L CNN
F 2 "Package_QFP:LQFP-32_7x7mm_P0.8mm" H 4200 4450 30  0001 C CNN
F 3 "" H 4200 4450 30  0001 C CNN
	1    4600 3900
	1    0    0    -1  
$EndComp
$Comp
L power:Earth #PWR0110
U 1 1 5C48B5F6
P 4200 3150
F 0 "#PWR0110" H 4200 2900 50  0001 C CNN
F 1 "Earth" H 4200 3000 50  0001 C CNN
F 2 "" H 4200 3150 50  0001 C CNN
F 3 "~" H 4200 3150 50  0001 C CNN
	1    4200 3150
	0    1    1    0   
$EndComp
Text Label 4200 2850 0    30   ~ 0
NRST
Text Label 4200 2950 0    30   ~ 0
PA1
Text Label 4200 3050 0    30   ~ 0
PA2
Wire Wire Line
	4500 3250 4150 3250
Wire Wire Line
	4150 3250 4150 3850
Wire Wire Line
	4150 3850 3700 3850
$Comp
L Device:CP C5
U 1 1 5C48C012
P 3550 3850
F 0 "C5" V 3400 3850 50  0000 C CNN
F 1 "680nF" V 3700 3850 50  0000 C CNN
F 2 "Capacitor_SMD:CP_Elec_6.3x5.9" H 3588 3700 50  0001 C CNN
F 3 "~" H 3550 3850 50  0001 C CNN
	1    3550 3850
	0    1    1    0   
$EndComp
$Comp
L power:Earth #PWR0111
U 1 1 5C48D0B1
P 3200 3850
F 0 "#PWR0111" H 3200 3600 50  0001 C CNN
F 1 "Earth" H 3200 3700 50  0001 C CNN
F 2 "" H 3200 3850 50  0001 C CNN
F 3 "~" H 3200 3850 50  0001 C CNN
	1    3200 3850
	0    1    1    0   
$EndComp
Wire Wire Line
	3200 3850 3400 3850
Wire Wire Line
	4500 3350 4250 3350
Wire Wire Line
	4250 3350 4250 4150
$Comp
L power:VDD #PWR0112
U 1 1 5C48EBE2
P 3200 4150
F 0 "#PWR0112" H 3200 4000 50  0001 C CNN
F 1 "VDD" V 3218 4277 50  0000 L CNN
F 2 "" H 3200 4150 50  0001 C CNN
F 3 "" H 3200 4150 50  0001 C CNN
	1    3200 4150
	0    -1   -1   0   
$EndComp
Wire Wire Line
	4500 3450 4350 3450
Wire Wire Line
	4500 3550 4350 3550
Text Label 4350 3450 0    30   ~ 0
PA3
Text Label 4350 3550 0    30   ~ 0
PA4
Wire Wire Line
	4200 3150 4500 3150
Wire Wire Line
	6150 2850 6450 2850
Wire Wire Line
	6150 2950 6450 2950
Wire Wire Line
	6150 3050 6450 3050
Wire Wire Line
	6150 3150 6450 3150
Wire Wire Line
	6150 3250 6450 3250
Wire Wire Line
	6150 3350 6450 3350
Wire Wire Line
	6150 3450 6450 3450
Wire Wire Line
	6150 3550 6450 3550
Wire Wire Line
	5000 4300 5000 4000
Wire Wire Line
	5100 4300 5100 4000
Wire Wire Line
	5200 4300 5200 4000
Wire Wire Line
	5300 4300 5300 4000
Wire Wire Line
	5000 2350 5000 2050
Wire Wire Line
	5100 2350 5100 2050
Wire Wire Line
	5200 2350 5200 2050
Wire Wire Line
	5300 2350 5300 2050
Wire Wire Line
	5400 2350 5400 2050
Wire Wire Line
	5500 2350 5500 2050
Text Label 6450 2850 2    30   ~ 0
PC7
Text Label 6450 2950 2    30   ~ 0
PC6
Text Label 6450 3050 2    30   ~ 0
PC5
Text Label 6450 3150 2    30   ~ 0
PC4
Text Label 6450 3250 2    30   ~ 0
PC3
Text Label 6450 3350 2    30   ~ 0
PC2
Text Label 6450 3450 2    30   ~ 0
PC1
Text Label 6450 3550 2    30   ~ 0
PE5
Text Label 5000 4300 1    30   ~ 0
PB7
Text Label 5100 4300 1    30   ~ 0
PB6
Text Label 5200 4300 1    30   ~ 0
PB5
Text Label 5300 4300 1    30   ~ 0
PB4
Text Label 5400 4300 1    30   ~ 0
PB3
Text Label 5500 4300 1    30   ~ 0
PB2
Text Label 5600 4300 1    30   ~ 0
PB1
Text Label 5700 4300 1    30   ~ 0
PB0
Text Label 5000 2050 3    30   ~ 0
PD7
Text Label 5100 2050 3    30   ~ 0
PD6
Text Label 5200 2050 3    30   ~ 0
PD5
Text Label 5300 2050 3    30   ~ 0
PD4
Text Label 5400 2050 3    30   ~ 0
PD3
Text Label 5500 2050 3    30   ~ 0
PD2
Text Label 5600 2050 3    30   ~ 0
PS1
Text Label 5700 2050 3    30   ~ 0
PD0
$Comp
L Device:R_US R1
U 1 1 5C4BAD91
P 3500 1900
F 0 "R1" H 3350 1800 50  0000 C CNN
F 1 "10K" H 3350 1900 50  0000 C CNN
F 2 "Resistor_SMD:R_0805_2012Metric" V 3540 1890 50  0001 C CNN
F 3 "~" H 3500 1900 50  0001 C CNN
	1    3500 1900
	-1   0    0    1   
$EndComp
Wire Wire Line
	3500 1550 3500 1750
Text Label 3150 2200 0    30   ~ 0
RESET#
Wire Wire Line
	3150 2200 3500 2200
Wire Wire Line
	5600 1600 5600 2350
Text Label 5250 1600 0    30   ~ 0
ST_LINK_SWIM
Wire Wire Line
	5250 1600 5600 1600
$Comp
L my_library:HEADER_4X1H CN1
U 1 1 5C4D7D09
P 8350 5350
F 0 "CN1" H 8600 5850 30  0000 L CNN
F 1 "HEADER_4X1H" H 8500 5200 30  0000 L CNN
F 2 "my_footprints:HEADER_4X1H" H 8750 5800 30  0001 C CNN
F 3 "" H 8750 5800 30  0001 C CNN
	1    8350 5350
	-1   0    0    -1  
$EndComp
$Comp
L power:VDD #PWR0113
U 1 1 5C4E3F79
P 8550 4850
F 0 "#PWR0113" H 8550 4700 50  0001 C CNN
F 1 "VDD" H 8567 5023 50  0000 C CNN
F 2 "" H 8550 4850 50  0001 C CNN
F 3 "" H 8550 4850 50  0001 C CNN
	1    8550 4850
	1    0    0    -1  
$EndComp
Wire Wire Line
	8550 4850 8550 5050
Wire Wire Line
	8350 5050 8550 5050
Wire Wire Line
	8350 5150 8700 5150
Wire Wire Line
	8350 5250 8700 5250
Wire Wire Line
	8350 5350 8550 5350
Wire Wire Line
	8550 5350 8550 5500
$Comp
L power:Earth #PWR0114
U 1 1 5C4F2F66
P 8550 5500
F 0 "#PWR0114" H 8550 5250 50  0001 C CNN
F 1 "Earth" H 8550 5350 50  0001 C CNN
F 2 "" H 8550 5500 50  0001 C CNN
F 3 "~" H 8550 5500 50  0001 C CNN
	1    8550 5500
	1    0    0    -1  
$EndComp
Text Label 8700 5150 2    30   ~ 0
ST_LINK_SWIM
Text Label 8700 5250 2    30   ~ 0
RESET#
$Comp
L Device:LED D4
U 1 1 5C50C7EE
P 5050 5450
F 0 "D4" V 5200 5550 50  0000 C CNN
F 1 "Red" H 4950 5550 50  0000 C CNN
F 2 "LED_SMD:LED_0805_2012Metric" H 5050 5450 50  0001 C CNN
F 3 "~" H 5050 5450 50  0001 C CNN
	1    5050 5450
	0    1    1    0   
$EndComp
$Comp
L Device:LED D3
U 1 1 5C515DDA
P 5350 5450
F 0 "D3" V 5500 5550 50  0000 C CNN
F 1 "Blue" H 5250 5550 50  0000 C CNN
F 2 "LED_SMD:LED_0805_2012Metric" H 5350 5450 50  0001 C CNN
F 3 "~" H 5350 5450 50  0001 C CNN
	1    5350 5450
	0    1    1    0   
$EndComp
$Comp
L Device:LED D1
U 1 1 5C518FC3
P 5650 5450
F 0 "D1" V 5800 5550 50  0000 C CNN
F 1 "Green" H 5550 5550 50  0000 C CNN
F 2 "LED_SMD:LED_0805_2012Metric" H 5650 5450 50  0001 C CNN
F 3 "~" H 5650 5450 50  0001 C CNN
	1    5650 5450
	0    1    1    0   
$EndComp
$Comp
L Device:R_US R4
U 1 1 5C53603D
P 5650 5050
F 0 "R4" H 5500 4950 50  0000 C CNN
F 1 "510" H 5500 5050 50  0000 C CNN
F 2 "Resistor_SMD:R_0805_2012Metric" V 5690 5040 50  0001 C CNN
F 3 "~" H 5650 5050 50  0001 C CNN
	1    5650 5050
	1    0    0    -1  
$EndComp
$Comp
L Device:R_US R6
U 1 1 5C539514
P 5350 5050
F 0 "R6" H 5200 4950 50  0000 C CNN
F 1 "510" H 5200 5050 50  0000 C CNN
F 2 "Resistor_SMD:R_0805_2012Metric" V 5390 5040 50  0001 C CNN
F 3 "~" H 5350 5050 50  0001 C CNN
	1    5350 5050
	1    0    0    -1  
$EndComp
$Comp
L Device:R_US R7
U 1 1 5C53C9EA
P 5050 5050
F 0 "R7" H 4900 4950 50  0000 C CNN
F 1 "510" H 4900 5050 50  0000 C CNN
F 2 "Resistor_SMD:R_0805_2012Metric" V 5090 5040 50  0001 C CNN
F 3 "~" H 5050 5050 50  0001 C CNN
	1    5050 5050
	1    0    0    -1  
$EndComp
Wire Wire Line
	5650 5200 5650 5300
Wire Wire Line
	5350 5300 5350 5200
Wire Wire Line
	5050 5300 5050 5200
$Comp
L Device:C_Small C6
U 1 1 5C581967
P 4050 4150
F 0 "C6" V 3900 4150 50  0000 C CNN
F 1 "100nF" V 4200 4150 50  0000 C CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 4050 4150 50  0001 C CNN
F 3 "~" H 4050 4150 50  0001 C CNN
	1    4050 4150
	0    1    1    0   
$EndComp
Wire Wire Line
	4150 4150 4250 4150
Wire Wire Line
	3200 4150 3950 4150
$Comp
L Device:LED D5
U 1 1 5C58DF73
P 5900 5450
F 0 "D5" V 6000 5550 50  0000 C CNN
F 1 "Green" H 5750 5550 50  0000 C CNN
F 2 "LED_SMD:LED_0805_2012Metric" H 5900 5450 50  0001 C CNN
F 3 "~" H 5900 5450 50  0001 C CNN
	1    5900 5450
	0    1    1    0   
$EndComp
$Comp
L Device:R_US R8
U 1 1 5C58DF7A
P 5900 5100
F 0 "R8" H 5750 5000 50  0000 C CNN
F 1 "510" H 5750 5100 50  0000 C CNN
F 2 "Resistor_SMD:R_0805_2012Metric" V 5940 5090 50  0001 C CNN
F 3 "~" H 5900 5100 50  0001 C CNN
	1    5900 5100
	1    0    0    -1  
$EndComp
$Comp
L my_library:MountingHole MH1
U 1 1 5C59D0CE
P 2350 5800
F 0 "MH1" H 2500 5850 30  0000 L CNN
F 1 "MountingHole" H 2500 5800 30  0000 L CNN
F 2 "my_footprints:keychain_hole" H 2350 5800 30  0001 C CNN
F 3 "" H 2350 5800 30  0001 C CNN
	1    2350 5800
	1    0    0    -1  
$EndComp
$Comp
L my_library:DPDT_Switch SW2
U 1 1 5C496CE6
P 8300 3550
F 0 "SW2" H 8550 4150 50  0000 C CNN
F 1 "DPDT_Switch" H 8700 4050 50  0000 C CNN
F 2 "my_footprints:732-10145-1-ND DPDT Slide Switch" H 8300 3550 50  0001 C CNN
F 3 "" H 8300 3550 50  0001 C CNN
	1    8300 3550
	1    0    0    -1  
$EndComp
$Comp
L power:VDD #PWR0106
U 1 1 5C496EF8
P 9250 3150
F 0 "#PWR0106" H 9250 3000 50  0001 C CNN
F 1 "VDD" H 9267 3323 50  0000 C CNN
F 2 "" H 9250 3150 50  0001 C CNN
F 3 "" H 9250 3150 50  0001 C CNN
	1    9250 3150
	1    0    0    -1  
$EndComp
Wire Wire Line
	9250 3250 9050 3250
Text Label 8200 3300 0    50   ~ 0
PWR_IN
Wire Wire Line
	8200 3300 8500 3300
Wire Wire Line
	9250 3150 9250 3250
Text Label 8800 1800 0    50   ~ 0
PWR_IN
$Comp
L my_library:HEADER_2X1H J1
U 1 1 5C4B5A42
P 8500 2350
F 0 "J1" H 8644 2715 50  0000 C CNN
F 1 "HEADER_2X1H" H 8644 2624 50  0000 C CNN
F 2 "my_footprints:HEADER_2X1H" H 8500 2350 50  0001 C CNN
F 3 "" H 8500 2350 50  0001 C CNN
	1    8500 2350
	-1   0    0    -1  
$EndComp
Wire Wire Line
	8450 2200 8650 2200
Wire Wire Line
	8650 2200 8650 2000
Wire Wire Line
	8650 2000 8800 2000
Connection ~ 8800 2000
Wire Wire Line
	8800 2000 8800 2050
Wire Wire Line
	8450 2250 8650 2250
Wire Wire Line
	8650 2250 8650 2450
Wire Wire Line
	8650 2450 8800 2450
Connection ~ 8800 2450
Wire Wire Line
	8800 2450 8800 2650
Wire Wire Line
	5400 4400 5050 4400
Wire Wire Line
	5050 4400 5050 4900
Wire Wire Line
	5400 4000 5400 4400
Wire Wire Line
	5500 4450 5350 4450
Wire Wire Line
	5350 4450 5350 4900
Wire Wire Line
	5600 4450 5650 4450
Wire Wire Line
	5650 4450 5650 4900
Wire Wire Line
	5700 4400 5900 4400
Wire Wire Line
	5900 4400 5900 4950
Wire Wire Line
	5500 4000 5500 4450
Wire Wire Line
	5600 4000 5600 4450
Wire Wire Line
	5700 4000 5700 4400
$Comp
L power:VDD #PWR?
U 1 1 5C59BAAF
P 5500 5900
F 0 "#PWR?" H 5500 5750 50  0001 C CNN
F 1 "VDD" H 5517 6073 50  0000 C CNN
F 2 "" H 5500 5900 50  0001 C CNN
F 3 "" H 5500 5900 50  0001 C CNN
	1    5500 5900
	-1   0    0    1   
$EndComp
Wire Wire Line
	5500 5900 5500 5750
Wire Wire Line
	5900 5250 5900 5300
Wire Wire Line
	5050 5600 5050 5750
Wire Wire Line
	5050 5750 5350 5750
Wire Wire Line
	5900 5750 5900 5600
Wire Wire Line
	5650 5600 5650 5750
Connection ~ 5650 5750
Wire Wire Line
	5650 5750 5900 5750
Wire Wire Line
	5350 5600 5350 5750
Connection ~ 5350 5750
Wire Wire Line
	5350 5750 5500 5750
Connection ~ 5500 5750
Wire Wire Line
	5500 5750 5650 5750
Wire Wire Line
	5700 2050 5700 2350
$Comp
L power:Earth #PWR?
U 1 1 5C5E7E60
P 7600 3500
F 0 "#PWR?" H 7600 3250 50  0001 C CNN
F 1 "Earth" H 7600 3350 50  0001 C CNN
F 2 "" H 7600 3500 50  0001 C CNN
F 3 "~" H 7600 3500 50  0001 C CNN
	1    7600 3500
	1    0    0    -1  
$EndComp
Wire Wire Line
	7600 3350 7600 3500
$EndSCHEMATC
